{"version":3,"sources":["Permissions.js","CoalescedPermissions.js","Permissions.types.js","ExpoPermissions.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA,AENA;ADIA,ADGA,AENA;ADIA,ADGA,AENA;ADIA,AENA,AHSA,AENA;ADIA,AENA,AHSA,AENA;ADIA,AENA,AHSA,AENA;ADIA,ADGA,AENA;ADIA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA;AACA","file":"index.js","sourcesContent":["var __TEMP__ = require('./CoalescedPermissions');var coalesceExpirations = __TEMP__['coalesceExpirations'];var coalesceStatuses = __TEMP__['coalesceStatuses'];\nvar __TEMP__ = require('./ExpoPermissions');var Permissions = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Permissions.types');var PermissionStatus = __TEMP__['PermissionStatus'];\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });Object.defineProperty(exports, 'PermissionStatus', { enumerable: true, configurable: true, get: function() { return PermissionStatus; } });\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var CAMERA = exports.CAMERA = 'camera';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var CAMERA_ROLL = exports.CAMERA_ROLL = 'cameraRoll';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var AUDIO_RECORDING = exports.AUDIO_RECORDING = 'audioRecording';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var LOCATION = exports.LOCATION = 'location';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var USER_FACING_NOTIFICATIONS = exports.USER_FACING_NOTIFICATIONS = 'userFacingNotifications';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var NOTIFICATIONS = exports.NOTIFICATIONS = 'notifications';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var CONTACTS = exports.CONTACTS = 'contacts';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var CALENDAR = exports.CALENDAR = 'calendar';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var REMINDERS = exports.REMINDERS = 'reminders';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var SYSTEM_BRIGHTNESS = exports.SYSTEM_BRIGHTNESS = 'systemBrightness';\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.getAsync = async function getAsync(...types) {\n    return await _handlePermissionsRequestAsync(types, Permissions.getAsync);\n};\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.askAsync = async function askAsync(...types) {\n    return await _handlePermissionsRequestAsync(types, Permissions.askAsync);\n};\nasync function _handlePermissionsRequestAsync(types, handlePermissions) {\n    if (!types.length) {\n        throw new Error('At least one permission type must be specified');\n    }\n    const permissions = await handlePermissions(types);\n    return {\n        status: coalesceStatuses(permissions),\n        expires: coalesceExpirations(permissions),\n        permissions,\n    };\n}\n//# sourceMappingURL=Permissions.js.map","var __TEMP__ = require('./Permissions.types');var PermissionStatus = __TEMP__['PermissionStatus'];\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.coalesceStatuses = function coalesceStatuses(permissions) {\n    const statuses = Object.keys(permissions).map(type => permissions[type].status);\n    statuses.sort((status1, status2) => _getStatusWeight(status1) - _getStatusWeight(status2));\n    // We choose the \"heaviest\" status with the most implications\n    return statuses[statuses.length - 1];\n};\nfunction _getStatusWeight(status) {\n    // In terms of weight, we treat UNDETERMINED > DENIED > GRANTED since UNDETERMINED requires the\n    // most amount of further handling (prompting for permission and then checking that permission)\n    // and GRANTED requires the least\n    switch (status) {\n        case PermissionStatus.GRANTED:\n            return 0;\n        case PermissionStatus.DENIED:\n            return 1;\n        case PermissionStatus.UNDETERMINED:\n            return 2;\n        default:\n            return 100;\n    }\n}\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.coalesceExpirations = function coalesceExpirations(permissions) {\n    const maxExpiration = 9007199254740991; // Number.MAX_SAFE_INTEGER\n    const expirations = Object.keys(permissions).map(type => permissions[type].expires);\n    expirations.sort((e1, e2) => (e1 == null || e1 === 'never' ? maxExpiration : e1) -\n        (e2 == null || e2 === 'never' ? maxExpiration : e2));\n    // We choose the earliest expiration\n    return expirations[0];\n};\n//# sourceMappingURL=CoalescedPermissions.js.map","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var PermissionStatus = exports.PermissionStatus = undefined;\n(function (PermissionStatus) {\n    PermissionStatus[\"UNDETERMINED\"] = \"undetermined\";\n    PermissionStatus[\"GRANTED\"] = \"granted\";\n    PermissionStatus[\"DENIED\"] = \"denied\";\n})(PermissionStatus || (PermissionStatus = {}));\n//# sourceMappingURL=Permissions.types.js.map","var __TEMP__ = require('@unimodules/core');var NativeModulesProxy = __TEMP__['NativeModulesProxy'];\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = NativeModulesProxy.ExpoPermissions;\n//# sourceMappingURL=ExpoPermissions.js.map"]}